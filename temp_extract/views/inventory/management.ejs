<%- include('../partials/head', {title: title}) %>

<body>
  <div id="wrapper">
    <main>
      <div class="hero">
        <div class="hero-content">
          <h1>Vehicle Management</h1>
          <p>Manage your vehicle inventory and classifications</p>
        </div>
      </div>
      
      <!-- Flash Messages -->
      <% if (messages.notice) { %>
        <div class="notice">
          <p><%= messages.notice %></p>
        </div>
      <% } %>
      
      <% if (messages.errors) { %>
        <div class="errors">
          <% messages.errors.forEach(error => { %>
            <p><%= error.msg %></p>
          <% }) %>
        </div>
      <% } %>

      <div class="management-options">
        <div class="management-card">
          <h2>Add New Classification</h2>
          <p>Add a new vehicle classification to organize your inventory.</p>
          <a href="/inv/add-classification" class="btn btn-primary">Add Classification</a>
        </div>
        
        <div class="management-card">
          <h2>Add New Vehicle</h2>
          <p>Add a new vehicle to your inventory.</p>
          <a href="/inv/add-inventory" class="btn btn-primary">Add Vehicle</a>
        </div>
      </div>

      <div class="inventory-management">
        <h2>Current Inventory</h2>
        <% if (data && data.rows && data.rows.length > 0) { %>
          <div class="inventory-grid">
            <% data.rows.forEach(vehicle => { %>
              <div class="inventory-item">
                <img src="<%= vehicle.inv_thumbnail %>" alt="<%= vehicle.inv_year %> <%= vehicle.inv_make %> <%= vehicle.inv_model %>" />
                <h3><%= vehicle.inv_year %> <%= vehicle.inv_make %> <%= vehicle.inv_model %></h3>
                <p>Price: $<%= new Intl.NumberFormat('en-US').format(vehicle.inv_price) %></p>
                <div class="vehicle-actions">
                  <a href="/inv/detail/<%= vehicle.inv_id %>">View</a>
                  <a href="/inv/delete/<%= vehicle.inv_id %>" class="btn-danger">Delete</a>
                </div>
              </div>
            <% }) %>
          </div>
        <% } else { %>
          <p>No vehicles found.</p>
        <% } %>
      </div>
    </main>
  </div>
</body>
</html>
